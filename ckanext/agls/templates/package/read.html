{% ckan_extends %}


{% block package_description %}

        <span class="label label-inverse" style="float: right;">
        <img src="/json-icon.png"/>
                <a style="color: #1878C0;" href="/api/3/action/{{ h.url_for('package_show', id=c.pkg.id) }}">JSON</a>
      </span>&nbsp;
    <span class="label label-inverse" style="float: right;margin-right: 10px;">
<img src="/rdf-icon.png"/>
        <a style="color: #1878C0;" href="{{ h.url_for('dataset_read', id=c.pkg.id) }}.rdf">RDF</a>
      </span>&nbsp;
    <span class="label label-inverse" style="float: right; margin-right: 10px;margin-left: 10px;">
        <i class="icon-file-alt"></i>
        <a style="color: #1878C0;" href="{{ h.url_for('dataset_read', id=c.pkg.id) }}/gmd">ISO19115/ISO19139 XML</a>
      </span>

    {{ super() }}
{% endblock %}

{% block package_additional_info %}
<section class="additional-info" prefix="dc: http://purl.org/dc/elements/1.1/ dcat: http://www.w3.org/ns/dcat#
         dcam: http://purl.org/dc/dcam/
         aglsterms: http://www.agls.gov.au/agls/terms/
         agentterms: http://www.agls.gov.au/agls/agentterms/
         availterms: http://www.agls.gov.au/agls/availterms/
         adminterms: http://www.agls.gov.au/agls/adminterms/
         v: http://www.w3.org/2006/vcard/ns#
         dct: http://purl.org/dc/terms/">
    <h3>{{ _('Additional Info') }}</h3>
    <table class="table table-striped table-bordered table-condensed">
        <thead>
        <tr>
            <th scope="col">{{ _('Field') }}</th>
            <th scope="col">{{ _('Value') }}</th>
        </tr>
        </thead>
        <tbody>


        {# Add our custom field to the dataset read page. #}
        {% if pkg.get('metadata_created') %}
        <tr>
            <th scope="row" class="dataset-label">Date Published</th>
            <td class="dataset-details" property="dct:issued">{{ pkg.metadata_created.split("T")[0] }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('metadata_updated') %}
        <tr>
            <th scope="row" class="dataset-label">Date Updated</th>
            <td class="dataset-details" property="dct:updated">{{ pkg.metadata_updated.split("T")[0] }}</td>
        </tr>
        {% endif %}

        {% if pkg.get('url') %}
        <tr>
            <th scope="row" class="dataset-label">{{ _('Source') }}</th>
            <td class="dataset-details" property="dct:source">{{ h.link_to(pkg.get('url'),
                pkg.get('url'), rel='dct:source', target='_blank') }}
            </td>
        </tr>
        {% endif %}
        {% if  h.get_pkg_dict_extra(c.pkg_dict, 'spatial_harvester','') != '' %}
        <tr>
            <th scope="row" class="dataset-label">XML Metadata Document</th>
            <td class="dataset-details">{{ h.link_to("View",h.url_for(controller='HarvestMetadataApi', action='display_xml_original', id=h.get_pkg_dict_extra(c.pkg_dict, 'harvest_object_id'))) }}
            </td>
        </tr>
        {% endif %}

        {% if pkg.get('contact_point') %}
        <tr>
            <th scope="row" class="dataset-label">Contact Point</th>
            <td class="dataset-details" property="dcat:contactPoint">
                <div about="http://" typeof="v:VCard">
                    <span property="v:fn">{{  pkg.organization.title }}</span>
                    <div rel="v:tel">
                        <div typeof="v:Tel v:Home">
                            <span property="rdf:value"></span>
                        </div>
                    </div>
                    <span property="v:email"> {{ h.mail_to(email_address=pkg.contact_point,
                name=pkg.contact_point) }}</span>
                </div>
            </td>
        </tr>
        {% endif %}


        {% if pkg.get('spatial_coverage') %}

        <tr>
            <th scope="row" class="dataset-label">Geospatial Coverage</th>
            <td class="dataset-details" property="dct:spatial"> {{ pkg.spatial_coverage }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('jurisdiction') %}
        <tr>
            <th scope="row" class="dataset-label">Jurisdiction</th>
            <td class="dataset-details" property="aglsterms:AglsJuri"> {{ pkg.jurisdiction }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('temporal_coverage') %}
        <tr>
            <th scope="row" class="dataset-label">Temporal Coverage</th>
            <td class="dataset-details" property="dct:temporal"> {{ pkg.temporal_coverage }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('data_state') %}
        <tr>
            <th scope="row" class="dataset-label">Data State</th>
            <td class="dataset-details"> {{ pkg.data_state }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('update_freq') %}

        <tr>
            <th scope="row" class="dataset-label">Update Frequency</th>
            <td class="dataset-details"> {{ pkg.update_freq }}</td>
        </tr>
        {% endif %}

        <tr>
            <th scope="row" class="dataset-label">Publisher/Agency</th>
            <td class="dataset-details" property="dc:publisher">{{ c.pkg_dict['organization']['title']}}
            </td>
        </tr>
        <tr>
            <th scope="row" class="dataset-label">Type</th>
            <td class="dataset-details" property="dc:type">Dataset</td>
        </tr>
        <tr>
            <th scope="row" class="dataset-label">Language</th>
            <td class="dataset-details" property="dc:language">English</td>
        </tr>
            {% if pkg.get('field_of_research') %}
                <tr>
                    <th scope="row" class="dataset-label">Fields of Research</th>
                    <td class="dataset-details"> {{ pkg.field_of_research|join(", ") }}</td>
                </tr>
            {% endif %}
        {% if pkg.get('geospatial_topic') %}
            <tr>
                <th scope="row" class="dataset-label">Geospatial Topics</th>
                <td class="dataset-details"> {{ pkg.geospatial_topic|join(", ") }}</td>
            </tr>
        {% endif %}
</tbody>
    </table>
</section>


{% endblock %}

